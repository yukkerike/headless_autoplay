{"ast":null,"code":"import _defineProperty from\"/Users/yukkerike/IdeaProjects/autoplay_configurator/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/yukkerike/IdeaProjects/autoplay_configurator/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/yukkerike/IdeaProjects/autoplay_configurator/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/yukkerike/IdeaProjects/autoplay_configurator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Form(props){var _useState=useState(props.object),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];return/*#__PURE__*/_jsx(\"div\",{children:Object.keys(state).map(function(key){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col border m-3 \"+(key==='players'?'bg-amber-100':''),children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xl\",children:key}),key==='players'?/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-300 rounded-full p-1\",onClick:function onClick(e){e.preventDefault();setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},key,[].concat(_toConsumableArray(state[key]),[_objectSpread(_objectSpread({},props.object.defaults),{},{session:'ВАША СЕССИЯ'})]))));props.addNewPlayer();},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0438\\u0433\\u0440\\u043E\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-300 rounded-full p-1\",onClick:function onClick(e){e.preventDefault();setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},key,[].concat(_toConsumableArray(state[key]),[_objectSpread(_objectSpread({},props.object.defaults),{},{session:'ВАША СЕССИЯ'})]))));props.removePlayer(props.object.players.length-1);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0435\\u0433\\u043E \\u0438\\u0433\\u0440\\u043E\\u043A\\u0430\"})]}):null,typeof state[key]==='object'&&state[key]!==null?/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsx(Form,{object:state[key]})}):state[key]===true||state[key]===false?/*#__PURE__*/_jsx(\"input\",{className:\"border-2 border-black rounded-md w-5\",type:\"checkbox\",checked:state[key],onChange:function onChange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},key,e.target.checked)));props.object[key]=e.target.checked;}}):/*#__PURE__*/_jsx(\"input\",{className:\"border-2 border-black rounded-md\",type:\"text\",value:state[key],onChange:function onChange(e){var value=e.target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},key,value)));try{props.object[key]=JSON.parse(value);}catch(e){props.object[key]=value?value:null;}}})]},key);})});}export default Form;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Form","props","_useState","object","_useState2","_slicedToArray","state","setState","children","Object","keys","map","key","className","onClick","e","preventDefault","_objectSpread","_defineProperty","concat","_toConsumableArray","defaults","session","addNewPlayer","removePlayer","players","length","type","checked","onChange","target","value","JSON","parse"],"sources":["/Users/yukkerike/IdeaProjects/autoplay_configurator/src/render_form.js"],"sourcesContent":["import {useState} from \"react\";\n\nfunction Form(props) {\n    const [state, setState] = useState(props.object);\n    return (\n        <div>\n            {Object.keys(state).map((key) => {\n                return (\n                    <div className={\"flex flex-col border m-3 \" + (key === 'players' ? 'bg-amber-100' : '')} key={key}>\n                        <label className=\"text-xl\">{key}</label>\n                        { key === 'players' ? (<div className=\"flex justify-between\">\n                            <button className=\"bg-green-300 rounded-full p-1\" onClick={(e) => {\n                                e.preventDefault()\n                                setState({...state, [key]: [...state[key], {...props.object.defaults, session: 'ВАША СЕССИЯ'}]});\n                                props.addNewPlayer()\n                            }}>Добавить игрока</button>\n                            <button className=\"bg-red-300 rounded-full p-1\" onClick={(e) => {\n                                e.preventDefault()\n                                setState({...state, [key]: [...state[key], {...props.object.defaults, session: 'ВАША СЕССИЯ'}]});\n                                props.removePlayer(props.object.players.length - 1)\n                            }}>Удалить последнего игрока</button></div>): null }\n                        {typeof state[key] === 'object' && state[key] !== null ? (\n                            <div className=\"bg-gray-100\"><Form object={state[key]}/></div>\n                        ) : (\n                            state[key] === true || state[key] === false ? (\n                                <input\n                                    className=\"border-2 border-black rounded-md w-5\"\n                                    type=\"checkbox\"\n                                    checked={state[key]}\n                                    onChange={(e) => {\n                                        setState({...state, [key]: e.target.checked});\n                                        props.object[key] = e.target.checked;\n                                    }}\n                                />\n                            ) : (\n                            <input\n                                className=\"border-2 border-black rounded-md\"\n                                type=\"text\"\n                                value={state[key]}\n                                onChange={(e) => {\n                                    const value = e.target.value;\n                                    setState({...state, [key]: value});\n                                    try {\n                                        props.object[key] = JSON.parse(value);\n                                    } catch (e) {\n                                        props.object[key] = value ? value : null;\n                                    }\n                                }}\n                            />\n                            ))}\n                    </div>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}